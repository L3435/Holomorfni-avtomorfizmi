\section{Riemannove ploskve}

\subsection{Gladke in kompleksne mnogoterosti}

%TODO Definicije gladkih mnogoterosti

\begin{definicija}
\emph{Meromorfen diferencial} Riemannove ploskve je dodelitev
meromorfne funkcije $f$ vsaki lokalni koordinati, pri čemer je
$f(z)\,dz$ neodvisna od lokalne koordinate.
\end{definicija}

Naj bosta $(U, \varphi)$ in $(V, \psi)$ lokalni karti, za kateri
velja $U \cap V \ne \emptyset$. Če jima meromorfen diferencial
$\omega$ priredi funkciji $\omega_U$ in $\omega_V$, mora tako
veljati $\omega_U = \omega_V \cdot \br{\psi \circ \varphi^{-1}}'$.

\begin{trditev}
Naj bosta $\alpha$ in $\beta$ meromorfna diferenciala. Tedaj je
$\frac{\alpha}{\beta}$ meromorfna funkcija.
\end{trditev}

\begin{proof}
Z zgornjimi oznakami velja
\[
\frac{\alpha_U}{\beta_U} =
\frac{\alpha_V \cdot \br{\psi \circ \varphi^{-1}}'}
{\beta_V \cdot \br{\psi \circ \varphi^{-1}}'} =
\frac{\alpha_V}{\beta_V}.
\]
Kvocient $\frac{\alpha}{\beta}$ tako ni odvisen od lokalnih
koordinat.
\end{proof}

Očitno velja tudi obratno -- če je $\alpha$ meromorfen diferencial
in $f$ meromorfna funkcija, je tudi $f \alpha$ meromorfen
diferencial.

\begin{trditev}
\label{td:deg}
Naj bo $f \colon M \to N$ nekonstantna holomorfna preslikava med
kompaktnima Riemannovima ploskvama. Tedaj obstaja naravno število
$m$, za katero $f$ doseže vsako točko $Q \in N$ natanko
$m$-krat.\footnote{Šteto z večkratnostmi.}
\end{trditev}

\begin{proof}
Iz kompleksne analize vemo, da za vsako točko $P \in M$ obstajajo
take lokalne koordinate $\tilde{z}$, da je
$f(\tilde{z}) = f(P) + \tilde{z}^n$. Število $n-1$ označimo z
$b(P)$ in mu pravimo BRANCHING NUMBER.

Za vsako naravno število $m$ naj bo
\[
\Sigma_m =
\setb{X \in N}{\sum_{f(P)=X} (b(P)+1) \geq m}.
\]
Označimo še
\[
\varphi(X) = \sum_{f(P) = X} (b(P)+1).
\]
Vse množice $\Sigma_m$ so odprte -- če je $b(P) = n-1$, lahko v
lokalnih koordinatah zapišemo $f(\tilde{z}) = \tilde{z}^n$. Enačba
$f(\tilde{z}) = \varepsilon$ ima tako natanko $n$ rešitev, zato za
okolico $U$ točke $P$ velja
\[
b(P) + 1 = \sum_{Q \in U \cap f^{-1}(P')} (b(Q) + 1),
\]
kjer je $P' \in f(U)$. Če to enakost seštejemo po okolicah vseh točk $P \in f^{-1}(X)$, dobimo
\[
m \leq \varphi(X) \leq \varphi(P').
\]

Pokažimo še, da so te množice zaprte v $\rs$. Naj bo $Q$ limita
zaporedja točk $Q_k \in \Sigma_m$, pri čemer je brez škode za
splošnost $b(P) = 0$ za vsak $P \in f^{-1}(Q_k)$. Ker imajo vse
množice $f^{-1}(Q_k)$ vsaj $m$ elementov, lahko najdemo tako
podzaporedje zaporedja $(Q_k)_{n=1}^\infty$, da lahko iz njihovih
praslik tvorimo $m$ konvergentnih zaporedij. Tako sledi
\[
\sum_{P \in f^{-1}(Q)} (b(P)+1) \geq m.
\]
Sledi, da so vse množice $\Sigma_m$ odprte in zaprte v $\rs$. Čim
je ena izmed množic $\Sigma_m$ neprazna, je tako enaka celotni
Riemannovi sferi, saj je ta povezana.
\end{proof}

Številu $m$ pravimo \emph{stopnja} preslikave $f$.

\begin{definicija}
Za kompaktni Riemannovo ploskvi $M$ in $N$ ter nekonstantno
preslikavo $f \colon M \to N$ definiramo
\emph{TOTAL BRANCHING NUMBER} kot
\[
B = \sum_{P \in M} b_f(P).
\]
\end{definicija}

Število je dobro definirano, saj je množica
$\setb{P \in M}{b_f(P)}$ diskretna in tako zaradi kompaktnosti
končna.

\begin{izrek}[Riemann-Hurwitz]
\label{iz:rie-hur}
Naj bosta $M$ in $N$ kompaktni Riemannovi ploskvi rodov $g$ in
$\gamma$, $f \colon M \to N$ pa nekonstantna preslikava stopnje
$n$. Tedaj za TOTAL BRANCHING NUMBER $B$ velja
\[
g = n(\gamma - 1) + 1 + \frac{B}{2}.
\]
\end{izrek}

\begin{proof}
Ker je množica $\setb{P \in M}{b_f(P) > 0}$ končna, jo lahko
uporabimo za triangulacijo ploskve $N$. Denimo, da ima
triangulacija $F$ lic, $E$ povezav in $V$ vozlišč. To
triangulacijo lahko z $f^{-1}$ preslikamo na $M$. Tako dobimo
triangulacijo ploskve $M$ z $nF$ lici, $nE$ povezavami in $nV - B$
vozlišči. Sledi, da je
\begin{align*}
F - E + V &= 2 - 2 \gamma,
\\
nF - nE + nV - B &= 2 - 2g.
\end{align*}
Iz teh enačb očitno sledi
\[
g = n(\gamma - 1) + 1 + \frac{B}{2}. \qedhere
\]
\end{proof}

%TODO Struktura na kvocientih
%\begin{definicija}
%Naj bo $H \subseteq \Aut M$ končna podgrupa grupe avtomorfizmov
%ploskve $M$. Na množici $\kvoc{M}{H}$ uvedemo kompleksno strukturo
%\end{definicija}

\subsection{Riemann-Rochov izrek}

\begin{definicija}
\emph{Delitelj} na Riemannovi ploskvi $M$ je formalni simbol
\[
\mathfrak{A} = \prod_{P \in M} P^{\alpha(P)},
\]
kjer za vsak $P$ velja $\alpha(P) \in \Z$ in je $\alpha(P) \ne 0$
za kvečjemu končno mnogo točk $P \in M$. \emph{Stopnja} delitelja
$\mathfrak{A}$ je definirana kot
\[
\deg \mathfrak{A} = \sum_{P \in M} \alpha(P).
\]
\end{definicija}

Delitelji na $M$ tvorijo grupo za naravno definirano množenje --
to grupo označimo z $\Div(M)$. Tako je
$\deg \colon \Div(M) \to \Z$ homomorfizem grup.

Za vsako neničelno meromorfno funkcijo $f \in \mathscr{K}(M)$
definiramo njen \emph{glavni delitelj} kot
\[
(f) = \prod_{P \in M} P^{\ord_P f}.
\]
Definiramo lahko še \emph{polarni delitelj}
\[
f^{-1}(\infty) = \prod_{P \in M} P^{\max(-\ord_P f, 0)}
\]
in \emph{ničelni delitelj}
\[
f^{-1}(0) = \prod_{P \in M} P^{\max(\ord_P f, 0)}.
\]
Opazimo, da velja
\[
(f) = \frac{f^{-1}(0)}{f^{-1}(\infty)}.
\]

\begin{lema}
Naj bo $M$ kompaktna Riemannova ploskev. Za vsako neničelno
funkcijo $f \in \mathscr{K}(M)$ velja
$\deg f^{-1}(0) = \deg f^{-1}(\infty)$. Ekvivalentno je
$\deg (f) = 0$.
\end{lema}

\begin{proof}
Stopnja polarnega delitelja funkcije $f$ je natanko število njenih
polov, štetih z večkratnostmi, stopnja ničelnega delitelja pa
število njenih ničel. Ti števili sta enaki po
trditvi~\ref{td:deg}.
\end{proof}

Posebej velja opomniti, da to pomeni, da imajo funkcije na
kompaktnih Riemannovih ploskvah enako število ničel in polov
(štetih z večkratnostmi).

Na deliteljih lahko uvedemo relacijo delne urejenosti kot
\[
\prod_{P \in M} P^{\alpha(P)} \geq \prod_{P \in M} P^{\beta(P)}
\iff
\forall P \in M \colon \alpha(P) \geq \beta(P).
\]
%TODO Definiraj še \sim in CELOST
Ni težko videti, da je za vsak delitelj $\mathfrak{A}$ na $M$
množica
\[
L(\mathfrak{A}) =
\setb{f \in \mathscr{K}(M)}{(f) \geq \mathfrak{A}}
\]
vektorski prostor -- njegovo dimenzijo označimo z
$r(\mathfrak{A})$.

\begin{zgled}
Velja $r(1) = 1$. Pogoj $(f) \geq 1$ je namreč ekvivalenten temu,
da je $f$ holomorfna. Ker so vse holomorfne funkcije na kompaktnih
Riemannovih ploskvah konstantne, je zato $L(1) \cong \C$, kar je
enodimenzionalen prostor.
\end{zgled}

\begin{zgled}
Če je $\deg \mathfrak{A} > 0$, je $r(\mathfrak{A}) = 0$. Iz
neenakosti $(f) \geq \mathfrak{A}$ za neničenlno funkcijo $f$
namreč sledi $0 = \deg (f) \geq \deg \mathfrak{A} > 0$, kar je
protislovje.
\end{zgled}

%TODO Nekje omeni zakaj so holomorfne konstantne

Podobno je tudi
\[
\Omega(\mathfrak{A}) =
\setb{\omega}{\text{$\omega$ je meromorfna $1$-forma} \land
(\omega) \geq \mathfrak{A}}
\]
vektorski prostor. Označimo
$i(\mathfrak{A}) = \dim \Omega(\mathfrak{A})$.

%TODO Definiraj še (\omega)

\begin{trditev}\label{td:mero_dif}
Naj bo $\mathfrak{A}$ poljuben delitelj in $\omega$ meromorfen
diferencial. Tedaj je
\[
i(\mathfrak{A}) = r \br{\mathfrak{A} (\omega)^{-1}}.
\]
\end{trditev}

\begin{proof}
Naj bo $\varphi \colon
\Omega(\mathfrak{A}) \to L \br{\mathfrak{A} (\omega)^{-1}}$
preslikava s predpisom
$\varphi \colon \zeta \mapsto \frac{\zeta}{\omega}$. Seveda je
predpis dobro definiran, ni pa težko videti, da je to izomorfizem
vektorskih prostorov. Sledi, da imata enako dimenzijo.
\end{proof}

\begin{izrek}[Riemann-Roch]
Naj bo $M$ kompaktna Riemannova ploskev roda $g$ in $\mathfrak{A}$
delitelj na $M$. Tedaj velja
\[
r \br{\mathfrak{A}^{-1}} =
\deg \mathfrak{A} - g + 1 + i(\mathfrak{A}).
\]
\end{izrek}

Dokaz izreka najdemo v~\cite[theorem~III.4.11]{Farkas_Kra_1980}.

\begin{zgled}
Z uporabo zgornjega izreka lahko izračunamo $i(1)$. Velja namreč
\[
i(1) = r(1) - \deg 1 + g - 1 = g. \qedhere
\]
\end{zgled}

\begin{trditev}
Naj bo $\deg \mathfrak{A} > 2g - 2$. Tedaj je
$i(\mathfrak{A}) = 0$.
\end{trditev}

\begin{proof}
Naj bo $\omega \in i(1)$ neničelna holomorfna $1$-forma. Tedaj je
\[
r \br{(\omega)^{-1}} = \deg (\omega) - g + 1 + i \br{(\omega)}.
\]
Po trditvi~\ref{td:mero_dif} je $r \br{(\omega)^{-1}} = i(1) = g$
in $i \br{(\omega)} = r(1) = 1$. Od tod sledi, da je
$\deg (\omega) = 2g - 2$.

Sedaj dobimo
\[
i(\mathfrak{A}) = r \br{\mathfrak{A} (\omega)^{-1}} = 0,
\]
saj je $\deg \br{\mathfrak{A} (\omega)^{-1}} > 0$.
\end{proof}

\subsection{Weierstrassove točke}

\begin{izrek}[Weierstrass]
Naj bo $M$ ploskev roda $g > 0$ in $P \in M$. Tedaj obstaja
natanko $g$ števil
\[
1 = n_1 < n_2 < \dots < n_g < 2g,
\]
za katera ne obstaja funkcija $f \in \mathscr{K}(M)$, ki je
holomorfna na $M \setminus \set{P}$ in ima pol reda $n_j$ v $P$.
Tem številom pravimo GAP.
\end{izrek}

\begin{proof}
Najprej opazimo, da je število $n$ GAP natanko tedaj, ko je
$r(P^{-n}) = r(P^{1-n})$. Ker je $r(P^{-n}) \leq r(P^{1-n}) + 1$,
število $n$ ni GAP natanko tedaj, ko velja
\[
r \br{P^{-n}} - r \br{P^{1-n}} = 1.
\]
Po Riemann-Rochovem izreku velja
\[
r \br{P^{-k}} = k-g+1 + i \br{P^k},
\]
zato sledi
\begin{align*}
r \br{P^{-n}} - r(1) &=
\sum_{k=1}^n \br{r \br{P^{-k}} - r \br{P^{1-k}}}
\\
&=
\sum_{k=1}^n \br{1 + i \br{P^k} - i \br{P^{k-1}}}
\\
&=
n + i \br{P^n} - i(1).
\end{align*}
Ker je $i(1) = g$ in za vse $n > 2g-2$ velja $i(P^n) = 0$, sledi
\[
r \br{P^{-n}} - 1 = n - g.
\]
Opazimo, da leva stran šteje ravno število NEGAPOV $\leq n$.
Sledi, da je GAPOV natanko $g$ in so vsi strogo manjši od $2g$.
\end{proof}

%TODO Posploši in dokaži lemo z determinanto Wronskega
\begin{definicija}
TEŽA točke $P \in M$ je vsota
\[
\tau(P) = \sum_{j=1}^g (n_j - j),
\]
kjer so $n_j$ GAPI za $P$.
\end{definicija}

\begin{lema}
Naj bo $M$ kompaktna Riemannova ploskev z rodom $g \geq 2$. Tedaj
je
\[
\sum_{P \in M} \tau(P) = g^3-g.
\]
\end{lema}

%TODO Proof: det Wronskega je m-ta potenca holomorfne diferencialne
%            forme, zato je vsota redov m * (2g-2)

\begin{definicija}
Točka $P \in M$ je \emph{Weierstrassova točka}, če na $M$ obstaja
neničelna holomorfna diferencialna $1$-forma z ničlo reda vsaj
$g$ v $P$.\footnote{V splošnem definiramo $q$-Weierstrassove točke
-- obstaja $q$-forma z ničlo reda vsaj $\dim \mathscr{H}^q(M)$.}
\end{definicija}

\begin{lema}
Ekvivalentno, vsaj eno izmed števil $2, \dots, g$ ni GAP.
\end{lema}

\begin{proof}
Obstoj diferencialne $1$-forme z ničlo reda vsaj $g$ v $P$ je
ekvivalentna pogoju $i(P^g) > 0$. Po Riemann-Rochovem izreku je ta
neenakost ekvivalentna
\[
r \br{P^{-g}} - 1 > 0,
\]
oziroma $r \br{P^{-g}} \geq 2$. Ker je $r(1) = 1$, med
$2, \dots, g$ obstaja število, ki ni GAP.
\end{proof}

\begin{lema}
Naj bo $M$ kompaktna Riemannova ploskev roda $g \geq 2$. Tedaj za
število $w$ Weierstrassovih točk veljata oceni
\[
2g + 2 \leq w \leq g^3 - g.
\]
\end{lema}

\begin{proof}
Ker je $\tau(P) \geq 1$ za vsako Weierstrassovo točko in velja
\[
\sum_{P \in M} = g^3 - g,
\]
takoj sledi $w \leq g^3 - g$. Velja pa
\begin{align*}
\tau(P) &= \sum_{j=1}^g (n_j - j)
\\
&=
\sum_{j=1}^{2g} j - \sum_{j=1}^g \alpha_j - \sum_{j=1}^g j
\\
&=
\sum_{j=g+1}^{2g-1} j - \sum_{j=1}^{g-1} \alpha_j
\\
&\leq \frac{g^2-g}{2}. \qedhere
\end{align*}
\end{proof}

%TODO Definicija \alpha_i in lemice

\subsection{Hipereliptične ploskve}

\begin{definicija}
Kompaktna Riemannova ploskev $M$ je \emph{hipereliptična}, če
obstaja nekonstantna meromorfna funkcija $f \colon M \to \rs$ z
natanko dvema poloma.\footnote{Pri tem pole štejemo z
večkratnostmi.}
\end{definicija}

Ekvivalentno to pomeni, da obstaja tak CEL delitelj
$D \in \Div M$, da je $\deg D = 2$ in $r(D^{-1}) \geq 2$.

\begin{trditev}
Vsaka kompaktna Riemannova ploskev roda $g \leq 2$ je
hipereliptična.
\end{trditev}

\begin{trditev}
Weierstrassove ploskve imajo natanko $2g+2$ BRANCH točk.
\end{trditev}

\begin{proof}
Po izreku~\ref{iz:rie-hur} velja
\[
g = 2 \cdot (0-1) + 1 + \frac{B}{2}. \qedhere
\]
\end{proof}

\begin{trditev}
BRANCH točke preslikave $f$ so natanko Weierstrassove točke ploskve
$M$.
\end{trditev}

\begin{proof}
Naj bo $P \in M$ BRANCH točka. Če je $P$ pol funkcije $f$, je
njegova stopnja tako enaka $2$. V nasprotnem primeru ima funkcija
\[
g \equiv \frac{1}{f - f(P)}
\]
pol stopnje $2$ v $P$. V obeh primerih sledi, da $2$ ni GAP za
točko $P$, zato je ta Weierstrassova.

Vsaka BRANCH točka ima tako TEŽO
\[
\sum_{k=1}^g \br{2k-1} - \sum_{k=1}^g k = \frac{1}{2} g (g-1),
\]
zato je njihova skupna teža $g^3 - g$. Sledi, da so to vse
Weierstrassove točke.
\end{proof}

\begin{lema}
Naj bo $P$ Weierstrassova točka hipereliptične ploskve $M$ in
$f \in \mathscr{K}(M)$ funkcija stopnje $2$. Tedaj velja
$f^{-1}(\infty) \sim P^2$.
\end{lema}

\begin{proof}
Točka $P$ je BRANCH točka funkcije $f$. Če je $P$ pol te funkcije,
je zato reda $2$ in je $f^{-1}(\infty) = P^2$. V nasprotnem primeru
definiramo funkcijo
\[
g = \frac{1}{f - f(P)}.
\]
Ni težko videti, da je $(g) = f^{-1}(\infty) P^{-2}$.
\end{proof}

\begin{trditev}
Naj bosta $f$ in $g$ dve funkciji $f \colon M \to \rs$ stopnje
$2$. Tedaj obstaja Möbiusova transformacija $A$, za katero je
\[
g = A \circ f.
\]
\end{trditev}

\begin{proof}
Naj bo $f^{-1}(\infty) = P_1 Q_1$ in $g^{-1}(\infty) = P_2 Q_2$.
Ker na $M$ ne obstajajo funkcije stopnje $1$, sledi
$r(P_1^{-1} Q_1^{-1}) = r(P_2^{-1} Q_2^{-1}) = 2$. Prostora
$L(P_1^{-1} Q_1^{-1})$ in $L(P_2^{-1} Q_2^{-1})$ imata tako
zaporedoma bazi $\set{1, f}$ in $\set{1, g}$. Ker za Weierstrassovo
točko $P$ velja $P_1 Q_1 \sim P^2 \sim P_2 Q_2$, sledi, da obstaja
meromorfna preslikava $h$, za katero je
$(h) = P_1 Q_1 P_2^{-1} Q_2^{-1}$. Ker je s predpisom
$\varphi \mapsto h \cdot \varphi$ očitno podan izomorfizem
prostorov $L(P_1^{-1} Q_1^{-1})$ in $L(P_2^{-1} Q_2^{-1})$,
obstajajo konstante $\alpha, \beta, \gamma$ in $\delta$, za katere
je
\[
1 = \alpha h + \beta hf
\quad \text{in} \quad
g = \gamma h + \delta hf.
\]
Tako lahko izrazimo
\[
g = \frac{\gamma + \delta f}{\alpha + \beta f}. \qedhere
\]
\end{proof}

\begin{trditev}
Naj bo $M$ kompaktna Riemannova ploskev roda $g$. Tedaj je $M$
hipereliptična natanko tedaj, ko obstaja involucija $J \in \Aut M$
z natanko $2g + 2$ fiksnimi točkami.
\end{trditev}

\begin{proof}
Predpostavimo najprej, da je $M$ hipereliptična. Naj bo
$f \colon M \to \rs$ meromorfna funkcija stopnje $2$. Za vsak
$P \in M$ tako obstaja še ena točka $Q \in M$, za katero je
$f(P) = f(Q)$ (če je $\ord_P f = 2$, vzamemo $Q=P$). Tako lahko
enostavno definiramo $J(P) = Q$. Ni težko videti, da je $J$
res involucija z $2g + 2$ fiksnimi točkami.

Če je $Q = J(P) \ne P$, lahko na okolici $U_Q$ točke $Q$ zapišemo
\[
J(X) = \br{\eval{f}{U_Q}{}}^{-1}(f(X)),
\]
zato je $J$ holomorfna na $M \setminus W$. Če pa je $J(P) = P$, pa
je $h = \sqrt{f - f(P)}$ lokalna koordinata, za katero velja
$J(h) = -h$, saj je
\[
f(P_h) = h^2 + f(P) = (-h)^2 + f(P) = f(P_{-h}).
\]
Tako je $J$ holomorfna tudi na $W$.

Predpostavimo sedaj, da obstaja involucija $J \in \Aut M$ z
$2g + 2$ fiksnimi točkami. Ker se projekcija
$f \colon M \to \kvoc{M}{\skl{J}}$ BRANCHA v natanko $2g + 2$
točkah, po izreku~\ref{iz:rie-hur} sledi, da je rod ploskve
$\kvoc{M}{\skl{J}}$ enak $0$. Sledi, da je
$\kvoc{M}{\skl{J}} \cong \rs$, zato je $f$ meromorfna funkcija z
dvema poloma.
\end{proof}

%TODO Zakaj je ta kvocient ploskev?

Opazimo, da so fiksne točke hipereliptične involucije natanko
Weierstrassove točke.

\begin{trditev}
Naj bo $M$ hipereliptična Riemannova ploskev roda $g \geq 2$ in
$T \in \Aut M$. Če je $T \not \in \skl{J}$, ima $T$ kvečjemu $4$
fiksne točke.
\end{trditev}

\begin{proof}
Naj bo $f \colon M \to \rs$ funkcija z natanko dvema poloma. Tedaj
je taka tudi $f \circ T$, zato obstaja Möbiusova transformacija
$A$, za katero je
\[
f \circ T = A \circ f.
\]
Naj bo $P$ fiksna točka avtomorfizma $T$. Sledi, da je
\[
A(f(P)) = f(T(P)) = f(P),
\]
zato je $f(P)$ fiksna točka preslikave $A$. Opazimo, da je
$A \ne \id$, saj bi v nasprotnem primeru veljalo $f \circ T = f$,
kar implicira $T \in \skl{J}$. Tako ima $A$ kvečjemu $2$ fiksni
točki, zato jih ima $T$ največ $4$.
\end{proof}
