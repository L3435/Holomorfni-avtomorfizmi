\section{Riemannove ploskve}

\subsection{Gladke in kompleksne mnogoterosti}

%TODO Definicije gladkih mnogoterosti

\begin{trditev}
\label{td:deg}
Naj bo $f \colon M \to N$ nekonstantna holomorfna preslikava med
kompaktnima Riemannovima ploskvama. Tedaj obstaja naravno število
$m$, za katero $f$ doseže vsako točko $Q \in N$ natanko
$m$-krat.\footnote{Šteto z večkratnostmi.}
\end{trditev}

\begin{proof}
Iz kompleksne analize vemo, da za vsako točko $P \in M$ obstajajo
take lokalne koordinate $\tilde{z}$, da je
$f(\tilde{z}) = f(P) + \tilde{z}^n$. Število $n-1$ označimo z
$b(P)$ in mu pravimo BRANCHING NUMBER.

Za vsako naravno število $m$ naj bo
\[
\Sigma_m =
\setb{X \in N}{\sum_{f(P)=X} (b(P)+1) \geq m}.
\]
Označimo še
\[
\varphi(X) = \sum_{f(P) = X} (b(P)+1).
\]
Vse množice $\Sigma_m$ so odprte -- če je $b(P) = n-1$, lahko v
lokalnih koordinatah zapišemo $f(\tilde{z}) = \tilde{z}^n$. Enačba
$f(\tilde{z}) = \varepsilon$ ima tako natanko $n$ rešitev, zato za
okolico $U$ točke $P$ velja
\[
b(P) + 1 = \sum_{Q \in U \cap f^{-1}(P')} (b(Q) + 1),
\]
kjer je $P' \in f(U)$. Če to enakost seštejemo po okolicah vseh točk $P \in f^{-1}(X)$, dobimo
\[
m \leq \varphi(X) \leq \varphi(P').
\]

Pokažimo še, da so te množice zaprte v $\rs$. Naj bo $Q$ limita
zaporedja točk $Q_k \in \Sigma_m$, pri čemer je brez škode za
splošnost $b(P) = 0$ za vsak $P \in f^{-1}(Q_k)$. Ker imajo vse
množice $f^{-1}(Q_k)$ vsaj $m$ elementov, lahko najdemo tako
podzaporedje zaporedja $(Q_k)_{n=1}^\infty$, da lahko iz njihovih
praslik tvorimo $m$ konvergentnih zaporedij. Tako sledi
\[
\sum_{P \in f^{-1}(Q)} (b(P)+1) \geq m.
\]
Sledi, da so vse množice $\Sigma_m$ odprte in zaprte v $\rs$. Čim
je ena izmed množic $\Sigma_m$ neprazna, je tako enaka celotni
Riemannovi sferi, saj je ta povezana.
\end{proof}

Številu $m$ pravimo \emph{stopnja} preslikave $f$.

\begin{definicija}
Za kompaktni Riemannovo ploskvi $M$ in $N$ ter nekonstantno
preslikavo $f \colon M \to N$ definiramo
\emph{TOTAL BRANCHING NUMBER} kot
\[
B = \sum_{P \in M} b_f(P).
\]
\end{definicija}

Število je dobro definirano, saj je množica
$\setb{P \in M}{b_f(P)}$ diskretna in tako zaradi kompaktnosti
končna.

\begin{izrek}[Riemann-Hurwitz]
\label{iz:rie-hur}
Naj bosta $M$ in $N$ kompaktni Riemannovi ploskvi rodov $g$ in
$\gamma$, $f \colon M \to N$ pa nekonstantna preslikava stopnje
$N$. Tedaj za TOTAL BRANCHING NUMBER $B$ velja
\[
g = n(\gamma - 1) + 1 + \frac{B}{2}.
\]
\end{izrek}

\begin{proof}
Ker je množica $\setb{P \in M}{b_f(P) > 0}$ končna, jo lahko
uporabimo za triangulacijo ploskve $N$. Denimo, da ima
triangulacija $F$ lic, $E$ povezav in $V$ vozlišč. To
triangulacijo lahko z $f^{-1}$ preslikamo na $M$. Tako dobimo
triangulacijo ploskve $M$ z $nF$ lici, $nE$ povezavami in $nV - B$
vozlišči. Sledi, da je
\begin{align*}
F - E + V &= 2 - 2 \gamma,
\\
nF - nE + nV - B &= 2 - 2g.
\end{align*}
Iz teh enačb očitno sledi
\[
g = n(\gamma - 1) + 1 + \frac{B}{2}. \qedhere
\]
\end{proof}

\subsection{Riemann-Rochov izrek}

\begin{definicija}
\emph{Delitelj} na Riemannovi ploskvi $M$ je formalni simbol
\[
\mathfrak{A} = \prod_{P \in M} P^{\alpha(P)},
\]
kjer za vsak $P$ velja $\alpha(P) \in \Z$ in je $\alpha(P) \ne 0$
za kvečjemu končno mnogo točk $P \in M$. \emph{Stopnja} delitelja
$\mathfrak{A}$ je definirana kot
\[
\deg \mathfrak{A} = \sum_{P \in M} \alpha(P).
\]
\end{definicija}

Delitelji na $M$ tvorijo grupo za naravno definirano množenje --
to grupo označimo z $\Div(M)$. Tako je
$\deg \colon \Div(M) \to \Z$ homomorfizem grup.

Za vsako neničelno meromorfno funkcijo $f \in \mathscr{K}(M)$
definiramo njen \emph{glavni delitelj} kot
\[
(f) = \prod_{P \in M} P^{\ord_P f}.
\]
Definiramo lahko še \emph{polarni delitelj}
\[
f^{-1}(\infty) = \prod_{P \in M} P^{\max(-\ord_P f, 0)}
\]
in \emph{ničelni delitelj}
\[
f^{-1}(0) = \prod_{P \in M} P^{\max(\ord_P f, 0)}.
\]
Opazimo, da velja
\[
(f) = \frac{f^{-1}(0)}{f^{-1}(\infty)}.
\]

\begin{lema}
Naj bo $M$ kompaktna Riemannova ploskev. Za vsako neničelno
funkcijo $f \in \mathscr{K}(M)$ velja
$\deg f^{-1}(0) = \deg f^{-1}(\infty)$. Ekvivalentno je
$\deg (f) = 0$.
\end{lema}

\begin{proof}
Stopnja polarnega delitelja funkcije $f$ je natanko število njenih
polov, štetih z večkratnostmi, stopnja ničelnega delitelja pa
število njenih ničel. Ti števili sta enaki po
trditvi~\ref{td:deg}.
\end{proof}

Posebej velja opomniti, da to pomeni, da imajo funkcije na
kompaktnih Riemannovih ploskvah enako število ničel in polov
(štetih z večkratnostmi).

Na deliteljih lahko uvedemo relacijo delne urejenosti kot
\[
\prod_{P \in M} P^{\alpha(P)} \geq \prod_{P \in M} P^{\beta(P)}
\iff
\forall P \in M \colon \alpha(P) \geq \beta(P).
\]
Ni težko videti, da je za vsak delitelj $\mathfrak{A}$ na $M$
množica
\[
L(\mathfrak{A}) =
\setb{f \in \mathscr{K}(M)}{(f) \geq \mathfrak{A}}
\]
vektorski prostor -- njegovo dimenzijo označimo z
$i(\mathfrak{A})$. Podobno je tudi
\[
\Omega(\mathfrak{A}) =
\setb{df}{\text{$\omega$ je meromorfna $1$-forma} \land
1(w) \geq \mathfrak{A}}
\]
vektorski prostor. Označimo
$i(\mathfrak{A}) = \dim \Omega(\mathfrak{A})$.

\begin{izrek}[Riemann-Roch]
Naj bo $M$ kompaktna Riemannova ploskev roda $g$ in $\mathfrak{A}$
delitelj na $M$. Tedaj velja
\[
r \br{\mathfrak{A}^{-1}} =
\deg \mathfrak{A} - g + 1 + i(\mathfrak{A}).
\]
\end{izrek}

%TODO Proof?

\subsection{Weierstrassove točke}

\begin{izrek}[Weierstrass]
Naj bo $M$ ploskev roda $g > 0$ in $P \in M$. Tedaj obstaja
natanko $g$ števil
\[
1 = n_1 < n_2 < \dots < n_g < 2g,
\]
za katera ne obstaja funkcija $f \in \mathscr{K}(M)$, ki je
holomorfna na $M \setminus \set{P}$ in ima pol reda $n_j$ v $P$.
Tem številom pravimo GAP.
\end{izrek}

\begin{proof}
Najprej opazimo, da je število $n$ GAP natanko tedaj, ko je
$r(P^{-n}) = r(P^{1-n})$. Ker je $r(P^{-n}) \leq r(P^{1-n}) + 1$,
število $n$ ni GAP natanko tedaj, ko velja
\[
r(P^{-n}) - r(P^{1-n}) = 1.
\]
Po Riemann-Rochovem izreku velja
\[
r(P^{-k}) = k-g+1 + i(P^k),
\]
zato sledi
\begin{align*}
r(P^{-n}) - r(1) &= \sum_{k=1}^n \br{r(P^{-k}) - r(P^{1-k})}
\\
&=
\sum_{k=1}^n \br{1 + i(P^k) - i(P^{k-1})}
\\
&=
n + i(P^n) - i(1).
\end{align*}
Ker je $i(1) = g$ in za vse $n > 2g-2$ velja $i(P^n) = 0$, sledi
\[
r(P^n) - 1 = n - g.
\]
Opazimo, da leva stran šteje ravno število NEGAPOV $\leq n$.
Sledi, da je teh natanko $g$ in so vsi manjši od $2g-1$.
\end{proof}

%TODO Popravi \left \right
%TODO Zakaj r(1) = 1?
%TODO Zakaj i(1) = g?
%TODO Zakaj i(P^n) = 0?

\begin{definicija}
Točka $P \in M$ je \emph{Weierstrassova točka}, če na $M$ obstaja
neničelna holomorfna diferencialna $1$-forma z ničlo reda vsaj
$g$ v $P$.\footnote{V splošnem definiramo $q$-Weierstrassove točke
-- obstaja $q$-forma z ničlo reda vsaj $\dim \mathscr{H}^q(M)$.}
\end{definicija}

\begin{lema}
Ekvivalentno, vsaj eno izmed števil $2, \dots, g$ ni GAP.
\end{lema}

\begin{proof}
Obstoj diferencialne $1$-forme z ničlo reda vsaj $g$ v $P$ je
ekvivalentna pogoju $i(P^g) > 0$. Po Riemann-Rochovem izreku je ta
neenakost ekvivalentna
\[
r \br{P^{-g}} - 1 > 0,
\]
oziroma $r \br{P^{-g}} \geq 2$. Ker je $r(1) = 1$, med
$2, \dots, g$ obstaja število, ki ni GAP.
%TODO Zakaj r(1) = 1?
\end{proof}

\begin{lema}
Naj bo $M$ kompaktna Riemannova ploskev roda $g \geq 2$. Tedaj za
število $w$ Weierstrassovih točk veljata oceni
\[
2g + 2 \leq w \leq g^3 - g.
\]
\end{lema}

%TODO Proof -- weights

\subsection{Hipereliptične ploskve}

\begin{definicija}
Kompaktna Riemannova ploskev $M$ je \emph{hipereliptična}, če
obstaja nekonstantna meromorfna funkcija $f \colon M \to \rs$ z
natanko dvema poloma.\footnote{Pri tem pole štejemo z
večkratnostmi.}
\end{definicija}

Ekvivalentno to pomeni, da obstaja tak CEL delitelj
$D \in \Div M$, da je $\deg D = 2$ in $r(D^{-1}) \geq 2$.

\begin{trditev}
Vsaka kompaktna Riemannova ploskev roda $g \leq 2$ je
hipereliptična.
\end{trditev}

%TODO BRANCH točke so Weierstrassove

\begin{trditev}
Naj bosta $f$ in $g$ dve funkciji $f \colon M \to \rs$ stopnje
$2$. Tedaj obstaja Möbiusova transformacija $A$, za katero je
\[
g = A \circ f.
\]
\end{trditev}

\begin{proof}
Naj bo $f^{-1}(\infty) = P_1 Q_1$ in $g^{-1}(\infty) = P_2 Q_2$.
Ker na $M$ ne obstajajo funkcije stopnje $1$, sledi
$r(P_1^{-1} Q_1^{-1}) = r(P_2^{-1} Q_2^{-1}) = 2$. Prostora
$L(P_1^{-1} Q_1^{-1})$ in $L(P_2^{-1} Q_2^{-1})$ imata tako
zaporedoma bazi $\set{1, f}$ in $\set{1, g}$. Ker velja
$P_1 Q_1 \sim P_2 Q_2$,
%TODO Kaj to pomeni in zakaj?
sledi, da obstajajo konstante $\alpha, \beta, \gamma$ in $\delta$,
za katere je
\[
1 = \alpha h + \beta hf
\quad \text{in} \quad
g = \gamma h + \delta hf,
\]
kjer je $(h) = P_1 Q_1 P_2^{-1} Q_2^{-1}$. Očitno je namreč
$\varphi \mapsto h \varphi$ izomorfizem prostorov
$L(P_1^{-1} Q_1^{-1})$ in $L(P_2^{-1} Q_2^{-1})$. Tako lahko
izrazimo
\[
g = \frac{\gamma + \delta f}{\alpha + \beta f}. \qedhere
\]
\end{proof}

\begin{trditev}
Naj bo $M$ kompaktna Riemannova ploskev roda $g$. Tedaj je $M$
hipereliptična natanko tedaj, ko obstaja involucija $J \in \Aut M$
z natanko $2g + 2$ fiksnimi točkami.
\end{trditev}

\begin{proof}
Predpostavimo najprej, da je $M$ hipereliptična. Naj bo
$f \colon M \to \rs$ meromorfna funkcija stopnje $2$. Za vsak
$P \in M$ tako obstaja še ena točka $Q \in M$, za katero je
$f(P) = f(Q)$ (če je $\ord_P f = 2$, vzamemo $Q=P$). Tako lahko
enostavno definiramo $J(P) = Q$. Ni težko videti, da je $J$
res involucija z $2g + 2$ fiksnimi točkami.

Če je $Q = J(P) \ne P$, lahko na okolici $U_Q$ točke $Q$ zapišemo
\[
J(X) = \br{\eval{f}{U_Q}{}}^{-1}(f(X)),
\]
zato je $J$ holomorfna na $M \setminus W$. Če pa je $J(P) = P$, pa
je $h = \sqrt{f - f(P)}$ lokalna koordinata, pri čemer velja
$J(h) = -h$. Tako je $J$ holomorfna tudi na $W$.

Predpostavimo sedaj, da obstaja involucija $J \in \Aut M$ z
$2g + 2$ fiksnimi točkami. Ker se projekcija
$f \colon M \to \kvoc{M}{\skl{J}}$ BRANCHA v natanko $2g + 2$
točkah, po izreku~\ref{iz:rie-hur} sledi, da je rod ploskve
$\kvoc{M}{\skl{J}}$ enak $0$. Sledi, da je
$\kvoc{M}{\skl{J}} \cong \rs$, zato je $f$ meromorfna funkcija z
dvema poloma.
\end{proof}

%TODO Zakaj je ta kvocient ploskev?

Opazimo, da so fiksne točke hipereliptične involucije natanko
Weierstrassove točke.

\begin{trditev}
Naj bo $M$ hipereliptična Riemannova ploskev roda $g \geq 2$ in
$T \in \Aut M$. Če je $T \not \in \skl{J}$, ima $T$ kvečjemu $4$
fiksne točke.
\end{trditev}

\begin{proof}
Naj bo $f \colon M \to \rs$ funkcija z natanko dvema poloma. Tedaj
je taka tudi $z \circ T$, zato obstaja Möbiusova transformacija
$A$, za katero je
\[
f \circ T = A \circ f.
\]
%TODO Zakaj?
Naj bo $P$ fiksna točka avtomorfizma $T$. Sledi, da je
\[
A(f(P)) = f(T(P)) = f(P),
\]
zato je $f(P)$ fiksna točka preslikave $A$. Opazimo, da je
$A \ne \id$, saj bi v nasprotnem primeru veljalo $f \circ T = f$,
kar implicira $T \in \skl{J}$. Tako ima $A$ kvečjemu $2$ fiksni
točki, zato jih ima $T$ največ $4$.
\end{proof}
